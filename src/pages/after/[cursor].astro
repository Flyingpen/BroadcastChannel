---
import List from '../../components/list.astro'
import { getChannelInfo } from '../../lib/telegram'

export const getStaticPaths = () => []

let channel = {
  posts: [],
  seo: {
    noindex: true,
  },
}

if (Astro.params?.cursor) {
  channel = await getChannelInfo(Astro, {
    after: Astro.params.cursor,
  })

  channel.seo = {
    noindex: true,
  }
}
---

<List channel={channel} />
